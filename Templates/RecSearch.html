<html>



<link rel="Stylesheet" type="text/css" href="../static/css/jqgrid/jquery-ui-1.8.16.custom.css"/>
<link rel="Stylesheet" type="text/css" href="../static/css/jqgrid/ui.jqgrid.css"/>
<link href="../static/css/bootstrap.css" rel="stylesheet">
<script type="text/javascript" src="../static/js/jquery-1.8.3.js"></script>
<script type="text/javascript" src="../static/js/EsayUI/jquery.easyui.min.js"></script>
<script type="text/javascript" src="../static/js/My97DatePicker/WdatePicker.js"></script>




<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<link href="http://${localURL}/static/css/bootstrap.css" rel="stylesheet" media="screen">
<link href="http://${localURL}/static/css/docs.css" rel="stylesheet" media="screen">

<script src="http://${localURL}/static/js/jquery.js"></script>
<script src="http://${localURL}/static/js/bootstrap.js"></script>
<script src="http://${localURL}/static/js/My97DatePicker/WdatePicker.js"></script>
<script src="http://${localURL}/static/js/util.js"></script>
<script src="http://${localURL}/static/js/localAddressList.js"></script>
<script type="text/javascript">
    jQuery(document).ready(function(){
        var selectText = function(dropdown, selectedValue) {
            var options = $(dropdown).find("option");
            var matches = $.grep(options,
                    function(n) { return $(n).text() == selectedValue; });
            $(matches).attr("selected", "selected");
        };
    });
</script>




<head>
    <title>录音查询</title>
    <meta charset="utf-8">

    <%doc>
    ##using Mako to create html file.
</%doc>

<%!
import OrderClient
import json

import configObjData
from configObjData import getRecorderConfigPage

import staticDbModule
from staticDbModule import getDictStatic

import configData
from configData import getConfig


#configPage = getRecorderConfigPage()

localURL = getConfig('SERVERINFO','serverIP','str')

import sys
reload(sys)
#convert the show code.
sys.setdefaultencoding('utf8')

import copy
%>
<%
localScoreInfo = None
%>



</head>
<script type="text/javascript">
    jQuery(document).ready(function () {
        jQuery("#btnSearch").click(function () {
            //默认只查询第1页
            submitSearch('1', '10');
        });
    })
    function showFastPrev() {
        submitSearch('1');
    }

    function showFastNext(pageCount) {
        submitSearch(pageCount);
    }

    function showCurrent(pageIndex, pageCount) {
        //alert(pageIndex);
        var intPageIndex = parseInt(pageIndex);
        var intPageCount = parseInt(pageCount);

        if (intPageIndex < 1) {
            intPageIndex = 1;
        }

        if (intPageIndex > intPageCount) {
            intPageIndex = intPageCount;
        }

        var localPageIndex = String(intPageIndex);
        submitSearch(localPageIndex);
    }


    function showPrev(pageIndex) {
        //alert(pageIndex);
        var intPageIndex = parseInt(pageIndex);
        intPageIndex = intPageIndex - 1;

        if (intPageIndex < 1) {
            intPageIndex = 1;
        }

        var localPageIndex = String(intPageIndex);
        submitSearch(localPageIndex);
    }

    function showNext(pageIndex, pageCount) {
        var intPageIndex = parseInt(pageIndex);
        var intPageCount = parseInt(pageCount);
        intPageIndex = intPageIndex + 1;

        if (intPageIndex > intPageCount) {
            intPageIndex = intPageCount;
        }
        var localPageIndex = String(intPageIndex);
        submitSearch(localPageIndex);
    }

    function submitSearch(pageno, pagesize) {
        startdate = jQuery("#idStartDT").val();
        enddate = jQuery("#idEndDT").val();
        calltype = document.getElementById("type").value;
        agentid = jQuery("#agentid").val();
        telno = jQuery("#telno").val();
        available = document.getElementById("status").value;
        totalmin = jQuery("#totalmin").val();
        totalmax = jQuery("#totalmax").val();
        channeldn = jQuery("#channeldn").val();
        teldnis = jQuery("#teldnis").val();
        if ((startdate == '') & (enddate == '') & (calltype == '') & (agentid == '') & (telno == '') & (available == '') & (totalmin == '') & (totalmax == '') & (channeldn == '') & (teldnis == '')) {
            alert("请至少选择一个条件");
            return
        }
        SearchRecorder(startdate, enddate, calltype, agentid, telno, available, totalmin, totalmax, channeldn, teldnis, pageno, pagesize);
        //SearchRecorder(startdate,enddate,agentid,pageIndex);
    }
    function SearchRecorder(instartdate, inenddate, incalltype, inagentid, intelno, inavailable, intotalmin, intotalmax, inchanneldn, inteldnis, inpageno, inpagesize) {
        //actionUrl ="http://localhost:8080/RecSearch/Search?startdate="+instartdate+'&enddate='+enddate+'&agentid='+inagentid+"&PAGEINDEX="+inpageindex;
        actionUrl = "http://localhost:8080/RecSearch/Search?startdate=" + instartdate + '&enddate=' + enddate + "&calltype=" + incalltype +
                "&agentid=" + inagentid + "&telno=" + intelno + "&available=" + inavailable + "&totalmin=" + intotalmin + "&totalmax=" + intotalmax +
                "&channeldn=" + inchanneldn + "&teldnis=" + inteldnis + "&pageno=" + inpageno + '&pagesize=' + inpagesize;
        alert(actionUrl);
        window.location.href = actionUrl;
    }
    function showBoFang(hostName,filename) {
        //var url = "http://"+hostName+"/Racorder/"+filename+"";  //每次点击后的url 需要重新指定
        var url = "http://localhost/Racorder/10.4.48.29_20130502091255416_24_3205_37049_13918130810.wav"; //测试的录音的地址
        var objPlayer = document.all("MediaPlayerWav");
        if (objPlayer != null) {
             objPlayer.URL = url;
             alert(objPlayer.URL);
        }


        $("#labrecfilename").text(filename);
        //点击后需要重新绑定问卷的信息

        var  strJson = "";
        $("#labrecfilename").text(filename);

        var isbofang= "Y"
        var localurl = window.location.href;
        localurl = localurl +"&filename="+filename+"&isbofang="+isbofang;


        window.location.href = localurl;


        //点击后需要重新绑定问卷的信息
        //$.ajax({
        //    url:"/RecSearch/select?filename="+filename,
        //    type:"GET",
        //    cache:false,
        //    data:strJson,
        //    datatype:"json",
        //   success:function(data){
        //        if(data!=null)
        //        {
        //            //alert(${configPage});
        //            window.location.reload();
        //            result = true;
        //        }
        //        else
        //        {
        //            result = false;
        //        }
        //    }
        //});



        window.status = url;
    }



</script>



　　<script type="text/javascript">
jQuery(document).ready(function (){
    //加法函数，用来得到精确的加法结果
    //说明：javascript的加法结果会有误差，在两个浮点数相加的时候会比较明显。这个函数返回较为精确的加法结果。
    //调用：accAdd(arg1,arg2)
    //返回值：arg1加上arg2的精确结果
    function accAdd(arg1,arg2){
        var r1,r2,m;
        try{r1=arg1.toString().split(".")[1].length}catch(e){r1=0}
        try{r2=arg2.toString().split(".")[1].length}catch(e){r2=0}
        m=Math.pow(10,Math.max(r1,r2))
        return (arg1*m+arg2*m)/m
    }
    //给Number类型增加一个add方法，调用起来更加方便。
    Number.prototype.add = function (arg){
        return accAdd(arg,this);
    }



    // 总分 object
    var objctscorenum =$("#labscorenum");
    var labscoreJj =$("#labscoreJj");
    var labscoreKcb =$("#labscoreKcb");
    var labscoreTw =$("#labscoreTw");
    var labscoreGTJQ =$("#labscoreGTJQ");
    var labscoreJS =$("#labscoreJS");

    var radioDictName = "";
    // 点击每一个radio按钮事件
    this.radioclick = function(object)
    {
        //radio 值
        var radioValue =  $(object).val();
        $(object).checked = true;
        // 百分比的字段
        var percent = $(object).parent().parent().parent().next("tr").find("td:last").text();
        // 得分的字段 text
        var score = $(object).parent().parent().parent().next("tr").next("tr").find("td").find("input[type='text'][name ='txtSCORE']");

        //将每一题的radio 选择后得分 显示到得分字段
        var QanswerScore =  parseFloat (radioValue) * parseFloat(percent)/100;
        score.val(QanswerScore);

        // 需要重新计算 总分数
        var tatalScore = 0;     // 定义总分数
        var tatalscoreJj = 0;     // 建议得分
        var tatalscoreKcb = 0    //开场白得分
        var tatalscoreTw = 0     //提问得分
        var tatalscoreGTJQ = 0   // 沟通技巧得分
        var tatalscoreJS = 0    // 结束得分
        $("#ComRacorder tr").each(function(i){
                    if($(this).find("td").find("input[type='text'][name='txtSCORE']").length > 0)
                    {
                        var ScroreAnswer =  $(this).find("td").find("input[type='text'][name='txtSCORE']");
                        var ScoreAnswerScoreStr = ScroreAnswer[0].value;


                        var  ScoreAnswerScore= 0

                        if(ScoreAnswerScoreStr.length <= 0)
                        {
                            ScoreAnswerScoreStr = 0;
                        }
                        else
                        {
                            ScoreAnswerScore = parseFloat(ScoreAnswerScoreStr);
                        }

                        var ScoreAnswerScore = parseFloat(ScoreAnswerScoreStr);

                        var hasRemark =  $(ScroreAnswer).parent().prev("td").find("label").attr("name");

                        if(hasRemark == "hasRemark1")
                        {
                            tatalscoreJj = tatalscoreJj.add(ScoreAnswerScore)
                        }
                        else if(hasRemark == "hasRemark2")
                        {
                            tatalscoreKcb = tatalscoreKcb.add(ScoreAnswerScore)
                        }

                        else if(hasRemark == "hasRemark3")
                        {
                            tatalscoreTw = tatalscoreTw.add(ScoreAnswerScore)
                        }
                        else if(hasRemark == "hasRemark4")
                        {
                            tatalscoreGTJQ = tatalscoreGTJQ.add(ScoreAnswerScore)
                        }
                        else if(hasRemark == "hasRemark5")
                        {
                            tatalscoreJS = tatalscoreJS.add(ScoreAnswerScore)
                        }

                        if(ScoreAnswerScore!=0)
                        {
                            var hasRemark =  $(ScroreAnswer).parent().prev("td").find("label").attr("name");
                            if(hasRemark == "hasRemark1")
                            {
                                tatalscoreJj = tatalscoreJj.add(ScoreAnswerScore)
                            }
                            else if(hasRemark == "hasRemark2")
                            {
                                tatalscoreKcb = tatalscoreKcb.add(ScoreAnswerScore)
                            }

                            else if(hasRemark == "hasRemark3")
                            {
                                tatalscoreTw = tatalscoreTw.add(ScoreAnswerScore)
                            }
                            else if(hasRemark == "hasRemark4")
                            {
                                tatalscoreGTJQ = tatalscoreGTJQ.add(ScoreAnswerScore)
                            }
                            else if(hasRemark == "hasRemark5")
                            {
                                tatalscoreJS = tatalscoreJS.add(ScoreAnswerScore)
                            }
                            tatalScore = tatalScore.add(ScoreAnswerScore)
                        }

                    }

                }
        );
        objctscorenum.text(tatalScore);
        labscoreJj.text(tatalscoreJj);
        labscoreKcb.text( tatalscoreKcb);
        labscoreTw.text( tatalscoreTw);
        labscoreGTJQ.text( tatalscoreGTJQ);
        labscoreJS.text( tatalscoreJS);

    }


    var Racorderobj = function()
    {
        var _page = this;
        _page.userid = "sa";
        _page.tatalScore = 0.0;
        // 初始化事件
        this.init = function()
        {
            _page.getRacorderScore();
            var isbofang = "${isbofang}";

            if(isbofang == "Y")
            {
                var url = "http://localhost/Racorder/1017112694c.mp3"; //测试的录音的地址
                var objPlayer = document.all("MediaPlayerWav");
                if (objPlayer != null) {
                    objPlayer.URL = url;
                    //alert(objPlayer.URL);
                }
            }
        }



        this.getRacorderScore = function()
        {
            // 需要重新计算 总分数
            var tatalScore = 0;     // 定义总分数
            var tatalscoreJj = 0;     // 建议得分
            var tatalscoreKcb = 0    //开场白得分
            var tatalscoreTw = 0     //提问得分
            var tatalscoreGTJQ = 0   // 沟通技巧得分
            var tatalscoreJS = 0    // 结束得分
            $("#ComRacorder tr").each(function(i){
                        if($(this).find("td").find("input[type='text'][name='txtSCORE']").length > 0)
                        {
                            var ScroreAnswer =  $(this).find("td").find("input[type='text'][name='txtSCORE']");
                            var ScoreAnswerScoreStr = ScroreAnswer[0].value;

                            var  ScoreAnswerScore= 0

                            if(ScoreAnswerScoreStr.length <= 0)
                            {
                                ScoreAnswerScoreStr = 0;
                            }
                            else
                            {
                                ScoreAnswerScore = parseFloat(ScoreAnswerScoreStr);
                            }
                            var hasRemark =  $(ScroreAnswer).parent().prev("td").find("label").attr("name");
                            if(hasRemark == "hasRemark1")
                            {
                                tatalscoreJj = tatalscoreJj.add(ScoreAnswerScore)
                            }
                            else if(hasRemark == "hasRemark2")
                            {
                                tatalscoreKcb = tatalscoreKcb.add(ScoreAnswerScore)
                            }

                            else if(hasRemark == "hasRemark3")
                            {
                                tatalscoreTw = tatalscoreTw.add(ScoreAnswerScore)
                            }
                            else if(hasRemark == "hasRemark4")
                            {
                                tatalscoreGTJQ = tatalscoreGTJQ.add(ScoreAnswerScore)
                            }
                            else if(hasRemark == "hasRemark5")
                            {
                                tatalscoreJS = tatalscoreJS.add(ScoreAnswerScore)
                            }

                            if(ScoreAnswerScore!=0)
                            {
                                var hasRemark =  $(ScroreAnswer).parent().prev("td").find("label").attr("name");
                                if(hasRemark == "hasRemark1")
                                {
                                    tatalscoreJj = tatalscoreJj.add(ScoreAnswerScore)
                                }
                                else if(hasRemark == "hasRemark2")
                                {
                                    tatalscoreKcb = tatalscoreKcb.add(ScoreAnswerScore)
                                }

                                else if(hasRemark == "hasRemark3")
                                {
                                    tatalscoreTw = tatalscoreTw.add(ScoreAnswerScore)
                                }
                                else if(hasRemark == "hasRemark4")
                                {
                                    tatalscoreGTJQ = tatalscoreGTJQ.add(ScoreAnswerScore)
                                }
                                else if(hasRemark == "hasRemark5")
                                {
                                    tatalscoreJS = tatalscoreJS.add(ScoreAnswerScore)
                                }
                                tatalScore = tatalScore.add(ScoreAnswerScore)
                            }


                        }
                    }
            );

            objctscorenum.text(tatalScore);
            labscoreJj.text(tatalscoreJj);
            labscoreKcb.text( tatalscoreKcb);
            labscoreTw.text( tatalscoreTw);
            labscoreGTJQ.text( tatalscoreGTJQ);
            labscoreJS.text( tatalscoreJS);

        }

        // 点击确认按钮的时候出发保存事件
        $("#btnConfirm").click (function(){
            //_page.forConfirm();
            _page.forConfirm()


        });



        // 获取问题的答案信息
        this.GetRacorderAnwser = function()
        {
            var StrJson = "[";
            var j = 0; //定义j 用于取得 序列号
            $("#ComRacorder tr").each(function(i){
                        if($(this).find("td").find("input[type='radio']").length > 0)
                        {
                            j++;
                            var lblSEQUENCEID = "#lblSEQUENCEID"+j
                            var mvalue=$(lblSEQUENCEID).text();// 可以记录问题的编号
                            var raydio = null;
                            var raydios = $(this).find("td").find("input[type='radio']");
                            $(raydios).each(function(ra)
                                    {
                                        var raydiolocal = raydios[ra];
                                        if(raydiolocal.checked)
                                        {
                                            raydio = raydiolocal;
                                        }
                                    }
                            );

                            if($(raydio).length > 0 )
                            {
                                var subitemAnswer = $(raydio).val();

                                var questionobject = $(raydio).parent().parent().parent().prev("tr").find("td:last").find("label");

                                var questionostr = questionobject[0].id;

                                var Questionindex = questionostr.indexOf("ID_");
                                var questionId =  questionostr.substring(Questionindex,questionostr.length);

                                StrJson +="{'questionID':'"+ questionId+"','subitemAnswer':'"+subitemAnswer+"','";

                                var ScroreAnswerobject = $(raydio).parent().parent().parent().next("tr").next("tr").find("td:last").find("input");

                                StrJson +="score"+"':'"+ScroreAnswerobject.val()+"','"
                                var tMemoAnswerobject = $(raydio).parent().parent().parent().next("tr").next("tr").next("tr").find("td:last").find("input");
                                StrJson +="note"+"':'"+tMemoAnswerobject.val()+"'},"

                            }



                        }

                    }
            );
            if(StrJson.length>2)
            {
                StrJson= StrJson.substring(0,StrJson.length-1);
            }
            StrJson +="]"
            return StrJson;
        }

        //组织录音质检，打分信息的 json 字符串
        this.GetRacorderScoreJsonStr = function()
        {

            var fileName =  $("#labrecfilename").text();
            var total =$("#labscorenum").text();
            var raters = _page.userid;
            var d = new Date();
            var sttm = d.getYear() + '-' + (d.getMonth()+1) + '-' + d.getDate() + ' ' + d.getHours() + ':' + d.getMinutes() + ':' + d.getSeconds();
            var reterTime = sttm;
            var remark = $("#txtQuestionNote").val();

            var scrvals = _page.GetRacorderAnwser();
            scrvals = scrvals.replace(/'/gm,"@");

            var RacorderSaveJson = "{'fileName':'"+fileName+"','";
            RacorderSaveJson += "raters':'"+raters+"','";
            RacorderSaveJson += "total':'"+total+"','";
            RacorderSaveJson += "reterTime':'"+reterTime+"','";
            RacorderSaveJson += "remark':'"+remark+"','";


            RacorderSaveJson += "scrvals':";
            RacorderSaveJson = RacorderSaveJson.replace(/'/gm,"\"");
            RacorderSaveJson=RacorderSaveJson +scrvals+"}";
            return RacorderSaveJson;
        }
        //保存录音事件
        this.forConfirm = function()
        {
            var  strJson = _page.GetRacorderScoreJsonStr();
            strJson =  strJson.replace("[","\"[");
            strJson =  strJson.replace("]","]\"");

            var retPost = "";
            var flag = $("#RacorderIsAdd").val();

            if(flag == "add")
            {
                retPost = "POST";
            }
            else
            {
                retPost = "PUT";
            }

            var result = false;
            $.ajax({
                url:"/Saverqscoscr/"+retPost,
                type:"POST",
                cache:false,
                data:strJson,
                datatype:"json",
                success:function(data){
                    if(data!=null)
                    {
                        alert("保存成功")
                        var flag = $("#RacorderIsAdd");
                        flag.val("edit");
                        result = true;
                    }
                    else
                    {
                        alert("保存失败")
                        result = false;
                    }
                }
            });
            return result;


        }
    }
    var  Racorderobj = new Racorderobj();
    Racorderobj.init();
});

</script>

<body>
<form id="form1" >
    <div width="100%">
        <table>
            <tr>
                <td align="top">
                    <div width="60%" align="top">
                        <table width="800px">
                            <tr>
                                <td width="83">日期时间：</td>
                                <td colspan="2">
                                    <input id="idStartDT" type="text" class="Wdate input-small search-query"
                                           onClick="WdatePicker({dateFmt:'yyyy-MM-dd'})" style="width: 150"/>
                                </td>
                                <td width="48">--</td>
                                <td width="180">
                                    <input id="idEndDT" type="text" class="Wdate input-small search-query"
                                           onClick="WdatePicker({dateFmt:'yyyy-MM-dd'})" style="width: 180"/>
                                </td>
                                <td width="44">类型：</td>
                                <td width="82"><select id="type">
                                    <option value=""></option>
                                    <option value="IN">IN</option>
                                    <option value="OUT">OUT</option>
                                </select></td>
                            </tr>
                            <tr>
                                <td>坐席工号：</td>
                                <td colspan="2">
                                    <input align="" runat="server" id="agentid"/>
                                </td>
                                <td>分机：</td>
                                <td>
                                    <input align="" runat="server" id="telno" value=""/>
                                </td>
                                <td>状态：</td>
                                <td><select id="status">
                                    <option value=""></option>
                                    <option value="1">1->完成</option>
                                    <option value="3">3->重点</option>
                                </select></td>
                                <td width="178">
                                    <button runat="server" id="btnSearch">&nbsp;查 询&nbsp;</button>
                                </td>
                            </tr>
                            <tr>
                                <td>&nbsp;&nbsp;得分从:</td>
                                <td width="46">
                                    <input runat="server" id="totalmin" style="width: 40;"/>
                                </td>
                                <td width="126">至&nbsp;
                                    <input runat="server" id="totalmax" style="width: 40;"/>
                                </td>
                                <td>主叫：</td>
                                <td>
                                    <input runat="server" id="channeldn"/>
                                </td>
                                <td>被叫：</td>
                                <td colspan="2">
                                    <input runat="server" id="teldnis">
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div id="formOrderList" style="width:740px; height:420px; overflow:scroll;">
                        <table class="table table-hover table-condensed">
                            % if outdic is not None:
                            <tr>
                                <th>播放</th>
                                <th style="width: 80">文件名</th>
                                <th style="width: 80">主机名</th>
                                <th>通道号</th>
                                <th>分机</th>
                                <th>开始时间</th>
                                <th>结束时间</th>
                                <th>通话时长</th>
                                <th>坐席ID</th>
                                <th>主叫</th>
                                <th>被叫</th>
                                <th>呼叫类型</th>
                                <th>得分</th>
                                <th>呼叫ID</th>
                                <th>产品</th>
                                <th>信息类型</th>
                                <th>订单号</th>
                                <th>状态</th>
                                <th>备注</th>
                                <th>标签</th>
                            </tr>
                            % for item in outdic:
                            <tr>
                                <% hostName = item['hostName'] %>
                                <% fileName = item['fileName'] %>
                                <th> <button type="button" class="btn" onclick="showBoFang('${hostName}','${fileName}')">播放</button></th>
                                <th>${item["hostName"]}</th>
                                <th>${item["fileName"]}</th>
                                <th>${item["channelNO"]}</th>
                                <th>${item["telNO"]}</th>
                                <th>${item["startTime"]}</th>
                                <th>${item["endTime"]}</th>
                                <th>${item["spendTime"]}</th>
                                <th>${item["agentID"]}</th>
                                <th>${item["channelDN"]}</th>
                                <th>${item["telDNIS"]}</th>
                                <th>${item["callType"]}</th>
                                <th>${item["total"]}</th>
                                <th>${item["callID"]}</th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th>${item["available"]}</th>
                                <th></th>
                                <th></th>
                            </tr>
                            % endfor
                            % endif
                        </table>
                    </div>
                    <div>
                        <object id="MediaPlayerWav" classid="CLSID:6BF52A52-394A-11d3-B153-00C04F79FAA6" width="740"
                                height="45"
                                codebase="http://activex.microsoft.com/activex/controls/mplayer/en/nsmp2inf.cab#Version=5,1,52,701standby=Loading Microsoft? Windows Media? Player
components..."
                                type="application/x-oleobject">
                            <param name="URL" value="">
                            <param name="UIMode" value="full">
                            <param name="AutoStart" value="1">
                            <param name="Enabled" value="1">
                            <param name="EnableContextMenu" value="0">
                            <param name="windowlessVideo" value="0">
                            <param name='Volume' value='100'>
                        </object>
                    </div>
                </td>
                <td>

                    <div class="bs-docs-div-compress" style="width: 100%">
                        <label class="label label-info label-large">录音打分模板</label>

                        <table >
                            <tr>
                                <td align="left" colspan="2">文件名： <span id="labrecfilename">${outfilename}</span></td>
                                <td align="left" class="myColorBar02" > 总得分：<span id="labscorenum">0</span></td>

                            </tr>

                            <tr  height="25" align="left" class="label label-normal" >
                                <td  align="left" >
                                    建议得分:<span id="labscoreJj">0</span>
                                    开场白得分:<span id="labscoreKcb">0</span>

                                </td>
                                <td align="left" >
                                    提问得分:<span id="labscoreTw">0</span>
                                    沟通技巧得分：<span id="labscoreGTJQ">0</span>

                                </td >
                                <td  align="left" >结束得分:<span id="labscoreJS">0</span>

                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" valign="top" style="border-top:solid 1 Lime;">
                                    <div style="overflow:auto; width:100%; height:100%;">
                                        <table class="myFullTable" cellpadding="0" cellspacing="0" border="0">
                                            <tr>
                                                <td id="jspnltdobj" valign="top" colspan="3">
                                                    <div width="100%">
                                                        <%
                                                        configPageRecorderScore = configPage
                                                        configUsing =copy.deepcopy(configPageRecorderScore)

                                                        #print("configPageRecorderScore length:")
                                                        #print len(configPageRecorderScore)
                                                        %>
                                                        <%namespace name="comp" file="components.html" />
                                                        ${comp.layoutControlList(configItem=configUsing)}
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td width=45>
                                                    <label class="label label-normal">总备注</label>
                                                </td>
                                                <td algin="left" colspan="2">
                                                    <input name=txtnote id=txtQuestionNote height="100"  type = text value="${QuestionNote}"  placeholder="备注"/>
                                                </td>
                                            </tr>
                                        </table>
                                    </div></td>
                            </tr>
                        </table>
                        <div>

                            <input type="button" data-dismiss="modal"  aria-hidden="true" value="取消"/>
                            <input type="button" class="btn btn-primary" id="btnConfirm" value="确定" />
                            <input id="RacorderIsAdd" type="hidden" value="${flag}">
                        </div>
                    </div>
                </td>
            </tr>
        </table>
    </div>

</form>


</body>
</html>